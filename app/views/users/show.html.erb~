
<div class="jumbotron">
		<span style="float: left; margin-right: 15px;">
                  <%= image_tag(@user.avatar_url.to_s, :size => "200x200") %>
                </span>
		<h1><%= @user.name %></h1>
		<h3><%= @user.email %></h3>
		<p>This is your Dashboard! Choose what you want to do:</p>
		<div class="bs-example">
        	<p>
		
		<% if current_user.id < 5 %>
		<a href="/materials/new"><button type="button" class="btn btn-info"><h5>Add Materials</h5></button></a>
		<a href="/materials"><button type="button" class="btn btn-info"><h5>Edit Material</h5></button></a>
		<a href="/materials"><button type="button" class="btn btn-info"><h5>View/Search Materials</h5></button></a>
		<% else %>
		<a href="/materials"><button type="button" class="btn btn-info"><h5>View/Search Materials</h5></button></a>
		<% end %>
              </p>
            </div>
		
</div>
<br>

<div class="well well-lg">
<table class="table table-striped table-hover ">
<th bgcolor="#2b2b2c"><font color="#ffffff"><h3>Your Group Memberships (<%= @user.memberships.count %>)</h3></font></th>
</table>
<table class="table table-striped table-hover ">
  <thead>
    
    
    <tr>
      <th>Group ID</th>
      <th>Group Name</th>
      <th>Is Owner?</th>
      <th>Created at</th>
      <th>Updated at</th>
      <th></th>
     
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @memberships.each do |membership| %>
	
	      <tr>
		<td><%= membership.group_id %></td>
		<td><%= membership.group.groupname %></td>
		<td><%= membership.owner %></td>
		<td><%= membership.created_at %></td>
		<td><%= membership.updated_at %></td>
		<td><%= link_to 'Show Group', membership.group %></td>
		
		<td><%= link_to 'Destroy', membership, method: :delete, data: { confirm: 'Are you sure you want to destroy your membership to this group?' } %></td>
	      </tr>
	
    <% end %>
  </tbody>
</table>
</div>

<div class="well well-lg">
<br> <br>
<table class="table table-striped table-hover ">
<th bgcolor="#2b2b2c"><font color="#ffffff"><h3>Listing all groups (<%= @all_groups.count %>)</h3></font></th>
</table>
<table class="table table-striped table-hover ">
  <thead>
    <tr>
      <th>Groupname</th>
      <th>Description</th>
      <th>Owner email</th>
      <th>Is public</th>
      <% if current_user.id < 5 %>
	      <th></th>
	      <th></th>
	      <th></th>
      <% end %>
      
    </tr>
  </thead>

  <tbody>
    <% @all_groups.each do |group| %>
      <tr>
        <td><%= group.groupname %></td>
        <td><%= group.description %></td>
        <td><%= group.owner_email %></td>
        <td><%= group.is_public %></td>
	<% if current_user.id < 5 %>
		<td><%= link_to 'Show', group %></td>
		<td><%= link_to 'Edit', edit_group_path(group) %></td>
		<td><%= link_to 'Destroy', group, method: :delete, data: { confirm: 'Are you sure?' } %></td>
	<% end %>
	<% if current_user.id != group.owner_id && current_user.id != 1 %>
		<td><%= link_to 'Join Group', :action => 'join_group', :id => current_user.id %></td>
		    
	<% end %>
      </tr>
    <% end %>
  </tbody>
</table>
</div>

